### Component Thinking

#### What is a component?

> A component is a piece of software responsible for a **single thing**, **serving a single purpose**.

A component is like a function, it has a context, it performs a single, a name , a set of inputs, outputs and an internal behavior.

#### How to architect a component?

Like a function. React components are functions too

1. Context - what is the enviroment the component will live in?
2. Single responsibility and purpose.
3. Name - based on context, responsability and purpose.
4. Inputs - the pieces of data required to fulfill the component's responsability
5. Outputs - the pieces of data generated by the component
6. Behaviour, lifecycle - how the component will fulfill its responsability.

#### How to architect a componet: inputs.

- The fewer inputs, the better (more maintainable, future-proof)

  Restrict the inputs to just the essential parts of data required to fulfill the component's responsability.

- Making an input **optional** increases the parameter space.

- A good way to keep yourself from adding more inputs is to **write a test suite with every combination of their values.**

#### Isolation and Composition

> The most important concepts in building components. Treat components **isolated** BUT **composable** building blocks. Isolation lets your components not depend on their surroundings. Composition lets them fit together nicely.

More info: http://bradfrost.com/blog/post/atomic-web-design/

#### The box model for components.

> Keep component layouts isolated from each other to be able to compose them seamlessly.

#### Defining Component apis

- Aim for a small API surface area.

- Make things easy to find

- Avoid renderThing Methods

```javascript
// Instead of this
class Items extends React.Component {
  renderItems({ items }) {
    return items.map(item => <li key={item.id}>{renderItem(item)}</li>);
  }

  renderItem(item) {
    return <div>{item.name}</div>;
  }

  render() {
    return <ul>{renderItems(this.props)}</ul>;
  }
}
```

```javascript
// Do this
const ItemList = ({ items }) =>
  <ul>
    {items.map(item => (
      <li key={item.id}>
        <Item {...item} />
      </li>
    )}
  </ul>

const Item = ({ name }) =>
  <div>{item.name}</div>

class Items extends React.Component {
  render () {
    const { items } = this.props
    return <ItemList items={items} />
  }
}
```

- Split components at data boundaries

Since you’re often displaying a JSON data model to a user, you’ll find that if your model was built correctly, your UI (and therefore your component structure) will map nicely.

```javascript
// Instead of this
<Card
  image={product.thumbnail}
  title={product.name}
  text={product.description}
  link={product.permalink}
/>

// Do this
<ProductCard {...product} />
```

- Avoid Apropcalypse (props drilling)

```javascript
// Instead of this
<Button
  variant='secondary'
  size='large'
  outline
  label='Buy Now'
  icon='shoppingBag'
  onClick={handleClick}
/>

// Do this
<SecondaryButton
  size='large'
  onClick={handleClick}>
  <Icon name='shoppingBag' />
  Buy Now
</SecondaryButton>
```

- Use composition

```javascript
// Instead of this
<Header
  title='Hello'
  subhead='This is a header'
  text='And it has arbitrary props'
/>

// Do this
<Header>
  <Heading>Hello</Heading>
  <Subhead>This is a header</Subhead>
  <Text>And it uses composition</Text>
</Header>
```

- Avoid boolean props for enums

Take the following example:

```javascript
<Button primary />
<Button secondary />
```

What happens in the following case?

```javascript
<Button primary secondary />
```

It’s impossible to know without diving into the code base or documentation. Instead, try the following:

```javascript
<Button variant="primary" />
```

- Keep props APIs parallel

For example, if you’re creating a date picker, use the same props that the native `<input type='date' />` expects. It’ll be easier to guess how it works and also easier to remember. Whenever possible, resuse props from other components.

```javascript
// Instead of this
<DatePicker
  date={date}
  onSelect={handleDateChange}
/>

// Do this
<DatePicker
  value={date}
  onChange={handleDateChange}
/>
```
